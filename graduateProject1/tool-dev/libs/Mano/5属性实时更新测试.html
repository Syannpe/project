<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style></style>
</head>
<body>

<script type="module">
    import {Mano} from "./Mano.js";

    document.addEventListener("DOMContentLoaded", function () {
        let mano = new Mano();

        let canvas = new Mano.Canvas({
            height: 500,
            width: 1620
        });
        let graphics = new Mano.Graphic();

        mano.appendChild(canvas);
        mano.appendChild(graphics);

        let rect = new Mano.Graphic.Rect(0, 0, 100, 100);
        rect.fillType = Mano.FILL_TYPE.GRAPHIC_STROKE;

        rect.content = "hello world!";
        rect.textFormat = new Mano.TextFormat({
            letterSpacing: CSS.px(10)
        });
        rect.textShadow = new Mano.Shadow({
            blur: 3,
            color: new Mano.Color.RGBA(255, 0, 0),
            offsetX: 3
        });
        rect.font = new Mano.Font({
            font: "30px source code pro"
        });
        rect.color = new Mano.Color.RGBA(0, 255, 255);

        graphics.appendChild(rect);
        document.body.appendChild(mano);

        let rect2 = new Mano.Graphic.Rect(120, 0, 100, 100);
        rect2.fillType = Mano.FILL_TYPE.GRAPHIC_STROKE;
        graphics.appendChild(rect2);

        rect2.boxShadow = new Mano.Shadow({
            blur: 3,
            color: new Mano.Color.RGBA(255, 0, 0),
            offsetX: 3
        });

        let rect3 = new Mano.Graphic.Rect(240, 0, 100, 100);
        graphics.appendChild(rect3);

        let rect4 = new Mano.Graphic.Rect(360, 0, 100, 10);
        rect4.border = new Mano.Border({
            lineWidth: 5,
            lineCap: "round",
            lineJoin: "bevel",
            lineDash: 4
        })
        rect4.fillType = Mano.FILL_TYPE.GRAPHIC_STROKE;
        graphics.appendChild(rect4);

        setTimeout(function () {
            rect.textFormat = new Mano.TextFormat({
                letterSpacing: CSS.px(0)
            });
            rect.textShadow = new Mano.Shadow({
                blur: 3,
                color: new Mano.Color.RGBA(255, 255, 0),
                offsetX: 3
            });

            rect.font = new Mano.Font({
                font: "15px source code pro"
            });
            rect.color = new Mano.Color.RGBA(120, 120, 255);
            rect.textTransform = new DOMMatrixReadOnly([1, 0, 0, 1, 0, 50]);

        }, 500);

        setTimeout(function () {
            rect2.boxShadow = new Mano.Shadow({
                blur: 3,
                color: new Mano.Color.RGBA(255, 0, 255),
                offsetX: 3
            });
            rect2.boxTransform = rect2.boxTransform.translate(0, 30);
            rect2.backgroundColor = new Mano.Color.RGBA(255, 0, 0);
        }, 1000);

        setTimeout(function () {
            rect3.fillType = Mano.FILL_TYPE.GRAPHIC_STROKE;
        }, 1500);

        setTimeout(function () {
            rect4.border = new Mano.Border({
                lineWidth: 5,
                lineCap: "butt",
                lineJoin: "round",
                lineDash: 4
            })
        }, 2000);

        //bug1：图元触发事件没封装呢
        //bug3：FontInit没封装完
        //bug3: 目前支持变换的Matrix是通过只读的方式实现的，可以自定义Matrix类重载DOMMatrix类中的修改矩阵的方法
    })
</script>
</body>
</html>